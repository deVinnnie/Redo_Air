<ui:composition template="/WEB-INF/master.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:air="http://xmlns.jcp.org/jsf/composite/air">
    <ui:define name="body">
        <!-- Languager Selector -->
        <h:form id="langauge_form">
            <air:lang-dropdown list_id="lang-dropdown"/>
            <air:lang-dropdown list_id="lang-dropdown-mobile"/>
        </h:form>

        <!-- User dropdown -->
        <ul id="user-dropdown" class="dropdown-content">
            <air:user-dropdown />
        </ul>

        <nav class="light-blue darken-1" role="navigation">
            <div class="nav-wrapper container">
                <h:link outcome="/index.xhtml" id="logo-container" styleClass="brand-logo">ReDo Air</h:link>

                <ul class="right hide-on-med-and-down">
                    <li>
                        <a class="dropdown-button" href="#!" data-activates="lang-dropdown">
                            <h:outputFormat value="#{msg['lang.title']}"/>
                            <i class="material-icons right">arrow_drop_down</i>
                        </a>
                    </li>


                    <li>
                        <h:link outcome="/redo-customer/index.xhtml" rendered="#{empty request.userPrincipal}">
                            Log in
                        </h:link>

                        <h:panelGroup rendered="#{not empty request.userPrincipal}">
                            <a class="dropdown-button" href="#!" data-activates="user-dropdown">
                                <i class="material-icons left">person</i>
                                <h:outputText value="#{request.userPrincipal.name}"/>
                                <i class="material-icons right">arrow_drop_down</i>
                            </a>
                        </h:panelGroup>
                    </li>
                </ul>

                <ul id="nav-mobile" class="side-nav">
                    <li>
                        <a class="dropdown-button" href="#!" data-activates="lang-dropdown-mobile">
                            <h:outputFormat value="#{msg['lang.title']}"/>
                            <i class="material-icons right">arrow_drop_down</i>
                        </a>
                    </li>

                    <h:panelGroup rendered="#{empty request.userPrincipal}">
                        <li>
                            <h:link outcome="/redo-customer/index.xhtml" >
                                Log in
                            </h:link>
                        </li>
                    </h:panelGroup>

                    <air:user-dropdown rendered="#{not empty request.userPrincipal}"/>
                </ul>

                <a href="#" data-activates="nav-mobile" class="button-collapse">
                    <i class="material-icons">menu</i>
                </a>
            </div>
        </nav>

        <div class="section no-pad-bot" id="index-banner">
            <div class="container">
                <h1>
                    <ui:insert name="pageTitle">
                        ReDo Air
                    </ui:insert>
                </h1>


            </div>
        </div>

        <div class="container">
            <c:if test="#{not empty flash.error}">
                <div class="errorMessage">
                    #{flash.error}
                </div>
            </c:if>

            <main>
                <ui:insert name="content">
                    Lorem Ipsum
                </ui:insert>
            </main>
        </div>

        <footer class="page-footer blue darken-2 ">
            <div class="container">
                <div class="row">
                    <div class="col l6 s12">
                        <h5 class="white-text">ReDo Air</h5>
                        <p class="white-text text-lighten-4">Copyright RealDolmen. All rights reserved.</p>
                    </div>

                    <div class="col l3 s12"></div>
                </div>
            </div>

            <div class="footer-copyright"></div>
        </footer>
    </ui:define>
</ui:composition>